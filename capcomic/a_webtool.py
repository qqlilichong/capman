
#######################################################################################################

import a_tool
import a_http

#######################################################################################################

class MaperXP:
    async def busbus(self, ctx):
        print(self, ctx)
        return True

#######################################################################################################

async def mainbus(context):
    obj = MaperXP()
    c2 = a_http.hctx(context, url=r'https://www.163.com/', xpath=obj.busbus)
    for result in await a_tool.tmr(a_http.hcontent(c2)):
        print(result[r'url'])

#######################################################################################################

if __name__ == '__main__':
    a_tool.tloop(a_http.hsession(mainbus))

#######################################################################################################
